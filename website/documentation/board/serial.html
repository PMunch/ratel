<!DOCTYPE html><html><head><link rel="stylesheet" href="https://unpkg.com/@picocss/pico@latest/css/pico.min.css"><link rel="stylesheet" href="../custom.css"><title></title></head><body><nav data-theme="dark"><nav><ul><img src="../../assets/logo-header-small.png"/><li><a href="../../index.html" class="contrast"><strong>Ratel</strong></a></li></ul><ul><li><a href="../../gettingstarted.html" class="contrast">Getting started</a></li><li><a href="board.html" class="contrast">Documentation</a></li></ul></nav></nav><aside><h3>Navigation</h3><a href="board.html">BOARD</a><details open><summary><a href="serial.html">SERIAL</a></summary><ul><li><a href="serial.html#SerialPort">SerialPort</a></li><li><a href="serial.html#setBaudRate">setBaudRate()</a></li><li><a href="serial.html#init">init()</a></li><li><a href="serial.html#send">send()</a><span>4</span></li></ul></details><details><summary><a href="times.html">TIMES</a></summary><ul><li><a href="times.html#delayMs">delayMs()</a></li><li><a href="times.html#delayUs">delayUs()</a></li><li><a href="times.html#delayLoop">delayLoop()</a><span>2</span></li><li><a href="times.html#millis">millis()</a></li></ul></details><details><summary><a href="progmem.html">PROGMEM</a></summary><ul><li><a href="progmem.html#Progmem">Progmem</a></li><li><a href="progmem.html#ProgmemString">ProgmemString</a></li><li><a href="progmem.html#pgmReadByte">pgmReadByte()</a></li><li><a href="progmem.html#pgmReadWord">pgmReadWord()</a></li><li><a href="progmem.html#pgmReadDoubleWord">pgmReadDoubleWord()</a></li><li><a href="progmem.html#memcpyPgm">memcpyPgm()</a></li><li><a href="progmem.html#`[]`">`[]`()</a><span>3</span></li><li><a href="progmem.html#readInto">readInto()</a></li><li><a href="progmem.html#read">read()</a></li><li><a href="progmem.html#len">len()</a></li><li><a href="progmem.html#p">p()</a></li><li><a href="progmem.html#progmem">progmem()</a></li></ul></details><details><summary><a href="i2c.html">I2C</a></summary><ul><li><a href="i2c.html#I2c">I2c</a></li><li><a href="i2c.html#init">init()</a></li><li><a href="i2c.html#start">start()</a></li><li><a href="i2c.html#stop">stop()</a></li><li><a href="i2c.html#send">send()</a></li><li><a href="i2c.html#recv">recv()</a></li><li><a href="i2c.html#writeRegister">writeRegister()</a></li><li><a href="i2c.html#readRegister">readRegister()</a></li></ul></details><details><summary><a href="io.html">IO</a></summary><ul><li><a href="io.html#Board">Board</a></li><li><a href="io.html#Port">Port</a></li><li><a href="io.html#Pin">Pin</a></li><li><a href="io.html#defaultClock">defaultClock()</a></li><li><a href="io.html#eachIt">eachIt()</a></li><li><a href="io.html#direction">direction()</a><span>2</span></li><li><a href="io.html#state">state()</a><span>2</span></li><li><a href="io.html#output">output()</a><span>2</span></li><li><a href="io.html#high">high()</a><span>2</span></li><li><a href="io.html#low">low()</a><span>2</span></li><li><a href="io.html#input">input()</a><span>2</span></li><li><a href="io.html#normal">normal()</a><span>2</span></li><li><a href="io.html#pullup">pullup()</a><span>2</span></li><li><a href="io.html#read">read()</a><span>2</span></li><li><a href="io.html#configure">configure()</a></li><li><a href="io.html#check">check()</a></li><li><a href="io.html#set">set()</a></li><li><a href="io.html#unset">unset()</a></li><li><a href="io.html#update">update()</a></li><li><a href="io.html#Hz">Hz</a></li><li><a href="io.html#Mhz">Mhz()</a></li><li><a href="io.html#Khz">Khz()</a></li></ul></details></aside><main><h2><span class="muted"><a href="board.html">board</a>/</span>serial</h2><p>This is documentation for the serial integration. Please note that this is just documentation for the interface, different boards might have different caveats for the various procedures.</p><dl><div id="SerialPort" class="group"><div id="SerialPort_CE70F8BE" class="ident"><dt><code><span class="Keyword">type</span> <span class="Identifier"><a href="#SerialPort_CE70F8BE">SerialPort</a></span> <span class="Operator">=</span> <span class="Keyword">object</span>
  </code></dt><dd>This is the type of a serial port, the object should be passed to all serial procedures. If your board requires runtime information to manage the serial port this will be kept in this object, and the below procedures won't be defined to use a <tt class="docutils literal"><span class="pre"><span class="Keyword">static</span></span></tt> object. The board should define available serial ports.</dd></div></div><div id="setBaudRate" class="group"><div id="setBaudRate_5591DF11" class="ident"><dt><code><span class="Keyword">proc</span> <span class="Identifier"><a href="#setBaudRate_5591DF11">setBaudRate</a></span><span class="Punctuation">(</span><span class="Identifier">serial</span><span class="Punctuation">:</span> <span class="Keyword">static</span><span class="Punctuation">[</span><span class="Identifier"><a href="serial.html#SerialPort">SerialPort</a></span><span class="Punctuation">]</span><span class="Punctuation">;</span> <span class="Identifier">baud</span><span class="Punctuation">:</span> <span class="Identifier"><a href="io.html#Hz">Hz</a></span><span class="Punctuation">;</span> <span class="Identifier">clock</span> <span class="Operator">=</span> <span class="Identifier"><a href="io.html#defaultClock">defaultClock</a></span><span class="Punctuation">)</span></code></dt><dd>Sets the baud rate of the serial port. The actual baud rate might be dependent on whether or not the serial port is in &quot;double speed&quot; mode. If no clock is passed in the default clock for the board is used, so if the board is clocked differently the serial port speed will not be correct.</dd></div></div><div id="init" class="group"><div id="init_D1C0D09D" class="ident"><dt><code><span class="Keyword">proc</span> <span class="Identifier"><a href="#init_D1C0D09D">init</a></span><span class="Punctuation">(</span><span class="Identifier">serial</span><span class="Punctuation">:</span> <span class="Keyword">static</span><span class="Punctuation">[</span><span class="Identifier"><a href="serial.html#SerialPort">SerialPort</a></span><span class="Punctuation">]</span><span class="Punctuation">;</span> <span class="Identifier">baud</span> <span class="Operator">=</span> <span class="FloatNumber">115.2</span><span class="Operator">.</span><span class="Identifier"><a href="io.html#Khz">Khz</a></span><span class="Punctuation">)</span></code></dt><dd>Initializes the serial port to receive and transfer, disables double speed mode, and sets the baud rate to the given rate.</dd></div></div><div id="send" class="group"><div id="send_2995051B" class="ident"><dt><code><span class="Keyword">proc</span> <span class="Identifier"><a href="#send_2995051B">send</a></span><span class="Punctuation">(</span><span class="Identifier">serial</span><span class="Punctuation">:</span> <span class="Keyword">static</span><span class="Punctuation">[</span><span class="Identifier"><a href="serial.html#SerialPort">SerialPort</a></span><span class="Punctuation">]</span><span class="Punctuation">;</span> <span class="Identifier">c</span><span class="Punctuation">:</span> <span class="Identifier"><a href="https://nim-lang.org/docs/system.html#char">char</a></span><span class="Punctuation">)</span></code></dt><dd>Sends the given character over the given serial port. If this can be done without waiting for the byte to be completely sent it will return immediately.</dd></div><div id="send_937132BF" class="ident"><dt><code><span class="Keyword">proc</span> <span class="Identifier"><a href="#send_937132BF">send</a></span><span class="Punctuation">(</span><span class="Identifier">serial</span><span class="Punctuation">:</span> <span class="Keyword">static</span><span class="Punctuation">[</span><span class="Identifier"><a href="serial.html#SerialPort">SerialPort</a></span><span class="Punctuation">]</span><span class="Punctuation">;</span> <span class="Identifier">str</span><span class="Punctuation">:</span> <span class="Identifier"><a href="https://nim-lang.org/docs/system.html#cstring">cstring</a></span><span class="Punctuation">)</span></code></dt><dd>Sends the given string over the given serial port.</dd></div><div id="send_3D9E7E31" class="ident"><dt><code><span class="Keyword">proc</span> <span class="Identifier"><a href="#send_3D9E7E31">send</a></span><span class="Punctuation">(</span><span class="Identifier">serial</span><span class="Punctuation">:</span> <span class="Keyword">static</span><span class="Punctuation">[</span><span class="Identifier"><a href="serial.html#SerialPort">SerialPort</a></span><span class="Punctuation">]</span><span class="Punctuation">;</span> <span class="Identifier">str</span><span class="Punctuation">:</span> <span class="Identifier"><a href="progmem.html#Progmem">Progmem</a></span><span class="Punctuation">[</span><span class="Identifier"><a href="https://nim-lang.org/docs/system.html#cstring">cstring</a></span><span class="Punctuation">]</span><span class="Punctuation">;</span> <span class="Identifier">size</span><span class="Punctuation">:</span> <span class="Identifier"><a href="https://nim-lang.org/docs/system.html#int">int</a></span><span class="Punctuation">)</span></code></dt><dd>Sends <tt class="docutils literal"><span class="pre"><span class="Identifier">size</span></span></tt> bytes of the given string stored in program memory. Typically you won't create a <tt class="docutils literal"><span class="pre"><span class="Identifier">Progmem</span><span class="Punctuation">[</span><span class="Identifier">cstring</span><span class="Punctuation">]</span></span></tt> yourself but rather obtain one from somewhere else.</dd></div><div id="send_6ABB3ECF" class="ident"><dt><code><span class="Keyword">template</span> <span class="Identifier"><a href="#send_6ABB3ECF">send</a></span><span class="Punctuation">[</span><span class="Identifier">N</span><span class="Punctuation">:</span> <span class="Keyword">static</span><span class="Punctuation">[</span><span class="Identifier"><a href="https://nim-lang.org/docs/system.html#int">int</a></span><span class="Punctuation">]</span><span class="Punctuation">]</span><span class="Punctuation">(</span><span class="Identifier">serial</span><span class="Punctuation">:</span> <span class="Keyword">static</span><span class="Punctuation">[</span><span class="Identifier"><a href="serial.html#SerialPort">SerialPort</a></span><span class="Punctuation">]</span><span class="Punctuation">;</span> <span class="Identifier">data</span><span class="Punctuation">:</span> <span class="Identifier"><a href="progmem.html#ProgmemString">ProgmemString</a></span><span class="Punctuation">[</span><span class="Identifier">N</span><span class="Punctuation">]</span><span class="Punctuation">)</span></code></dt><dd>Sends the full string stored in program memory over the serial port.</dd></div></div></dl></main></body></html>